source("adm_helper.R")
source("adm_summary.R")
ad_data = ad_merge(sample_path, DATE_type = "Date",dict_src = src_table)
ad_data$analysis_data
biocard_path = "BIOCARD August 2021 internal"
src_table = get_src_table(path = biocard_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("study_id","SUBJECT_ID"),DATE_usr_list = c("date","VISITDATE","MRIDATE"))
ad_data = ad_merge(biocard_path, DATE_type = "Date",dict_src = src_table)
ad_data$analysis_data
sample_path = "sample_data"
src_table = get_src_table(path =sample_path,ID_pattern = "ID",DATE_pattern = "VISDATE",ID_usr_list = c("RID"),DATE_usr_list = c("VISDATE"))
src_table
ad_data = ad_merge(sample_path, DATE_type = "Date",dict_src = src_table)
# ad_data$analysis_data %>% filter(!is.na(FFLUENCY))
#
# ad_data$analysis_data
# summary.ADMerge_res(ad_data)
#
# plot.ADMerge_res(ad_data,"MMSCORE","Phase")
#
# key_ID = get_key_IDs(src_table)
ad_data$analysis_data
ad_data$analysis_data %>% filter(ID_merged == 2)
MOCA_15Feb2024 %>% filter(RID == 2)
src_table
MOCA_15Feb2024 1.08.40 PM %>% filter(RID == 2)
`MOCA_15Feb2024 1.08.40 PM` %>% filter(RID == 2)
ad_data$analysis_data %>% filter(ID_merged == 2) %>% select(ID_merged,Date_timeline,TRAILS,CUBE)
ad_data$analysis_data %>% filter(ID_merged == 35) %>% select(ID_merged,Date_timeline,TRAILS,CUBE)
`MOCA_15Feb2024 1.08.40 PM` %>% filter(RID == 35)
ad_data$analysis_data %>% filter(ID_merged == 40) %>% select(ID_merged,Date_timeline,TRAILS,CUBE)
`MOCA_15Feb2024 1.08.40 PM` %>% filter(RID == 40)
ad_data$analysis_data %>% filter(ID_merged == 33) %>% select(ID_merged,Date_timeline,TRAILS,CUBE)
`MOCA_15Feb2024 1.08.40 PM` %>% filter(RID == 33)
ad_data$analysis_data %>% filter(ID_merged == 15) %>% select(ID_merged,Date_timeline,TRAILS,CUBE)
`MOCA_15Feb2024 1.08.40 PM` %>% filter(RID == 15)
mri_diag_path = "ADNI_Image_merge"
src_table = get_src_table(path = mri_diag_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("RID"),DATE_usr_list = c("EXAMDATE"),WINDOW_list = 366,IS_overlap_list = FALSE)
ad_data = ad_merge(mri_diag_path, DATE_type = "Date",dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
ad_data$analysis_data
ad_data$analysis_data %>% filter(ID_merged == 40)
src_table
DXSUM_PDXCONV_21Mar2024 %>% filter(RID == 40)
ad_data$analysis_data %>% filter(ID_merged == 40) %>% select(ID_merged,Date_timeline,DIAGNOSIS)
ad_data$analysis_data %>% filter(ID_merged == 40) %>% select(ID_merged,Date_timeline,DIAGNOSIS,ID)
ad_data$analysis_data
ad_data$analysis_data
ad_data$analysis_data %>% filter(ID_merged == 22)
DXSUM_PDXCONV_21Mar2024 %>% filter(RID == 22)
ad_data$analysis_data
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
src_table
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE","EXAMDATE"))
src_table
src_table
condition_rows <- src_table$file == 'MRIMETA_21Mar2024'
# Change DATE_for_merge for those rows
src_table$DATE_for_merge[condition_rows] <- 'MMTRNDATE'
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path(parent_dir, "data", "BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
print(src_table)
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02")
biocard_merged$analysis_data
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE","EXAMDATE"))
src_table
condition_rows <- src_table$file == 'MRIMETA_21Mar2024'
# Change DATE_for_merge for those rows
src_table$DATE_for_merge[condition_rows] <- 'MMTRNDATE'
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
merged_result$analysis_data
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE","EXAMDATE"))
src_table
# condition_rows <- src_table$file == 'MRIMETA_21Mar2024'
#
# # Change DATE_for_merge for those rows
# src_table$DATE_for_merge[condition_rows] <- 'MMTRNDATE'
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
# Analytical data
merged_result$analysis_data
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE","EXAMDATE"))
src_table
condition_rows <- src_table$file == 'MRIMETA_21Mar2024'
# Change DATE_for_merge for those rows
src_table$DATE_for_merge[condition_rows] <- 'MMTRNDATE'
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
merged_result$analysis_data
plot_data = merged_result$analysis_data
plot_data
src_table
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE"))
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
plot_data = merged_result$analysis_data
plot_data
plot_data <- plot_data %>% filter(FIELD_STRENGTH == "1.5T")
plot_data
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=PHASE)) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=DIAGNOSIS)) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
image_data <- read.csv("/Users/shijia.zhang/Downloads/ADNI_screening_baseline_w_csf_data_365_02162024.csv")
image_data
plot_data <- plot_data %>% filter(RID %in% image_data$RID)
image_data
plot_data <- plot_data %>% filter(ID_merged %in% image_data$RID)
plot_data
plot_data <- plot_data %>% filter(!is.na(DIAGNOSIS))
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data <- plot_data %>% head(10)
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data <- plot_data %>% head(1000)
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data
plot_data <- plot_data %>% head(1000)
plot_data
ggplot(plot_data, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data = merged_result$analysis_data
plot_data
View(plot_data)
plot_data %>% distinct(RID)
plot_data %>% distinct(ID_merged)
plot_data <- plot_data %>% filter(FIELD_STRENGTH == "1.5T")
plot_data
ggplot(plot_data %>% filter(SITEID == 107), aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data %>% filter, aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data %>% filter(SITEID == 107), aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data %>% head(200), aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data
plot_data %>% distinct(PHASE)
plot_data
plot_data %>% distinct(FIELD_STRENGTH)
src_table
plot_data %>% filter(PHASE == "ADNIGO")
plot_data %>% filter(PHASE == "ADNI2")
196/length(plot_data)
plot_data %>% filter(PHASE == "ADNI2")
ADNIGO = plot_data %>% filter(PHASE == "ADNIGO")
ADNI1 = ploy_data %>% filter(PHASE == "ANDI1")
ADNI1 = plot_data %>% filter(PHASE == "ANDI1")
ADNI1
plot_data = merged_result$analysis_data
plot_data
ADNI1 = plot_data %>% filter(PHASE == "ADNI1")
ADNI1 %>% filter(ID_merged %in% ADNIGO$ID_merged)
ADNI1
ADNI1 %>% filter(ID_merged %in% ADNIGO$ID_merged)
distinct(ADNI1$ID_merged)
ADNIGO %>% filter(ID_merged %in% ADNI1$ID_merged) %>% distinct(ID_merged)
ADNIGO
ADNIGO %>% distinct(ID_merged)
ADNI2 %>% filter(ID_merged %in% ADNI1$ID_merged) %>% distinct(ID_merged)
ADNI2 = plot_data %>% filter(PHASE == "ADNI2")
ADNI2 %>% filter(ID_merged %in% ADNI1$ID_merged) %>% distinct(ID_merged)
ADNI2 %>% distinct(ID_merged)
ADNI2 %>% filter(!ID_merged %in% ADNI1$ID_merged) %>% distinct(ID_merged)
not_in = ADNI2 %>% filter(!ID_merged %in% ADNI1$ID_merged) %>% distinct(ID_merged)
ggplot(plot_data %>% filter(!ID_merged %in% not_in$ID_merged), aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
ggplot(plot_data %>% filter(ID_merged %in% not_in$ID_merged), aes(x=Date_timeline, y=ID_merged, group=ID_merged, color=factor(DIAGNOSIS))) +
geom_line() +
geom_point() +
theme_minimal() +
labs(x="Date", y="ID", title="Timeline of ADNI Participants")
plot_data = plot_data %>% filter(ID_merged %in% not_in$ID_merged)
plot_data
plot_data = merged_result$analysis_data
plot_data
ADNI2
plot_data
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE"),IS_overlap_list = c("TRUE"))
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
merged_result$analysis_data
merged_result$analysis_data %>% filter(!is.na(DIAGNOSIS))
src_table
merged_result$analysis_data
%>% filter(!is.na(DIAGNOSIS))
merged_result$analysis_data %>% filter(!is.na(DIAGNOSIS))
src_table
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path("BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
packagePath <- find.package("ADMerge")
packagePath
list.files(path = file.path(packagePath,"R"))
file.show(file.path(packagePath, "R", "ADMerge.rdx"))
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path("BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02", DATE_type = "Date")
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path(parent_dir, "data", "BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
print(src_table)
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02",DATE_type = "Date")
biocard_merged$analysis_data
## This issue still need to be fixed !!!! ( the input typec)
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
getwd()
cd desktop
setwd(/Users/shijia.zhang/Desktop/ADNI/ADMerge)
setwd(Users/shijia.zhang/Desktop/ADNI/ADMerge)
getwd()
setwd("/Users/shijia.zhang/Desktop/ADNI/ADMerge")
getwd()
usethis::use_vignette("vignette")
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path(parent_dir, "data", "BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
print(src_table)
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02", DATE_type = "Date")
biocard_merged$analysis_data %>% head()
library(dplyr)
biocard_merged$analysis_data %>% head()
biocard_merged$analysis_data %>% head(20)
summary(biocard_merged)
biocard_merged$analysis_data
plot(biocard_merged,LogMem1_B,RACE)
plot(biocard_merged,LogMem1_B,factor(RACE))
plot(biocard_merged,"LogMem1_B","RACE")
biocard_merged$analysis_data
plot(biocard_merged,"LogMem1_B","SEX")
library(tibble)
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
library(dplyr)
library(ADMerge)
remove.packages(ADMerge)
install_github("Shijia1997/ADMerge")
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path(parent_dir, "data", "BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
print(src_table)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
print(src_table)
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02", DATE_type = "Date")
merged_Biocard_data = biocard_merged$analysis_data
print(merged_Biocard_data %>% head(5))
remove.packages(ADMerge)
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
remove.packages("ADMerge")
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE"),IS_overlap_list = c("TRUE"),)
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024")
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE"),IS_overlap_list = c("TRUE"),)
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024",DATE_type = "Date")
merged_result$analysis_data %>% filter(!is.na(DIAGNOSIS))
library(dplyr)
data_path = "ADNI_Image_merge"
src_table <- get_src_table(path = data_path, ID_pattern = "ID", ID_usr_list = c("RID"), DATE_usr_list = c("EXAMDATE"),IS_overlap_list = c("TRUE"),)
src_table
merged_result = ad_merge(path = data_path, dict_src = src_table,timeline_file = "MRIMETA_21Mar2024",DATE_type = "Date")
merged_result$analysis_data %>% filter(!is.na(DIAGNOSIS))
remove.packages("ADMerge")
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
biocard_path = "/Users/shijia.zhang/Desktop/ADNI/ADMerge/data/BIOCARD August 2021 internal"
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
src_table
biocard_path = "/Users/shijia.zhang/Desktop/test/BIOCARD August 2021 internal"
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
src_table
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
src_table
merged_result = ad_merge(biocard_path, dict_src = src_table,timeline_file = "BIOCARD_DiagnosisData_2021.11.01", DATE_type = "Date")
merged_result$analysis_data
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
BIOCARD_mergedtodx_07192021_lag730_worep
ls()
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
load("/Users/shijia.zhang/Desktop/ADNI/BIOCARD_mergedtodx_07192021_lag730_worep.rda")
dat
biocard_path = "/Users/shijia.zhang/Desktop/test/BIOCARD August 2021 internal"
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
merged_result = ad_merge(biocard_path, dict_src = src_table,timeline_file = "BIOCARD_DiagnosisData_2021.11.01", DATE_type = "Date")
merged_result$analysis_data
dat %>% filter(JHUANONID == "JHU601398")
dat
dat %>% filter(JHUANONID == "JHU233569")
merged_result$analysis_data %>% filter(JHUANONID == "JHU601398")
dat
merged_result$analysis_data %>% filter(JHUANONID == "JHU233569")
BIOCARD_DiagnosisData_2021.11.01
BIOCARD_DiagnosisData_2021.11.01 %>% filter(JHUANONID == "JHU233569")
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(366, 732, 366), ,IS_overlap_list = c(FALSE))
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(366, 732, 366),IS_overlap_list = c(FALSE))
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(366),IS_overlap_list = c(FALSE))
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(730),IS_overlap_list = c(FALSE))
src_table
src_table <- get_src_table(path = biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE","DIAGDATE"),WINDOW_list = c(730,720,110,120,180,60,80,90,90),IS_overlap_list = c(FALSE))
src_table
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
library(dplyr)
library(knitr)
library(kableExtra)
summary(biocard_merged)
library(devtools)
install_github("Shijia1997/ADMerge")
library(ADMerge)
library(dplyr)
library(knitr)
library(kableExtra)
current_dir <- getwd()
parent_dir <- dirname(current_dir)
Biocard_path <- file.path(parent_dir, "data", "BIOCARD August 2021 internal")
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID")
knitr::kable(src_table) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
src_table <- get_src_table(path = Biocard_path, ID_pattern = "ID", ID_usr_list = c("SUBJECT_ID","JHUANONID"), DATE_usr_list = c("date","VISITDATE","MRIDATE"))
knitr::kable(src_table) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
biocard_merged = ad_merge(Biocard_path, dict_src = src_table,timeline_file = "BIOCARD_CognitiveData_2021.11.02", DATE_type = "Date")
merged_Biocard_data = biocard_merged$analysis_data
knitr::kable(merged_Biocard_data %>% head(5)) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
summary(biocard_merged)
plot(biocard_merged,"LogMem1_B","SEX")
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("RID"),DATE_usr_list = c("EXAMDATE"))
print(src_table)
src_table$DATE_for_merge[src_table$file == "CDR_15Feb2024"] <- "VISDATE"
src_table
ad_data = ad_merge(ADNI_path, DATE_type = "Date",dict_src = src_table,timeline_file = "MRIMETA_15Mar2024")
ad_data$analysis_data
ad_data$analysis_data$AB40
library(dplyr)
library(readxl)
library(tidyverse)
library(lubridate)
source("adm_main copy.R")
source("adm_helper copy.R")
source("adm_summary copy.R")
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("RID"),DATE_usr_list = c("EXAMDATE"))
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("RID"),DATE_usr_list = c("EXAMDATE"))
print(src_table)
src_table$DATE_for_merge[src_table$file == "CDR_15Feb2024"] <- "VISDATE"
src_table
ad_data = ad_merge(ADNI_path, DATE_type = "Date",dict_src = src_table,timeline_file = "MRIMETA_15Mar2024")
ad_data$analysis_data
ad_data$analysis_data$AB40
ITEM
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "Date",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"))
print(src_table)
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"))
print(src_table)
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"))
print(src_table)
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"))
print(src_table)
ad_data = ad_merge(ADNI_path, DATE_type = "Number",dict_src = src_table,timeline_file = "MRIMETA_15Mar2024")
summary(ad_data)
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"),IS_overlap_list = c(FALSE,TRUE))
summary(ad_data)
ad_data$analysis_data
ad_data$analysis_data
plot(ad_data,"AB40","PHASE")
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data$ABETA42
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data$ABETA40
ad_data$analysis_data$ABETA42
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data$ABETA42
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data %>% select(ABETA42,PHASE)
plot(ad_data %>% filter(PHASE == "ADNI1"),"ABETA42","PHASE")
ad_data$analysis_data <- ad_data %>% filter(PHASE == "ADNI1")
ad_data$analysis_data <- ad_data$analysis_data %>% filter(PHASE == "ADNI1")
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data
ad_data$analysis_data
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"),IS_overlap_list = c(FALSE,TRUE))
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"),IS_overlap_list = c(FALSE))
print(src_table)
ad_data = ad_merge(ADNI_path, DATE_type = "Number",dict_src = src_table,timeline_file = "MRIMETA_15Mar2024")
ad_data$analysis_data$ABETA42
clean_data <- ad_data$analysis_data[!is.na(ad_data$analysis_data$ABETA42) & !is.na(ad_data$analysis_data$PHASE), ]
clean_data
ad_data$analysis_data =  clean_data
plot(ad_data,"ABETA42","PHASE")
ad_data$analysis_data
ADNI_path = "ADNI data"
src_table = get_src_table(path = ADNI_path,ID_pattern = "ID",DATE_pattern = "VIS",ID_usr_list = c("RID"),DATE_usr_list = c("VISCODE"),IS_overlap_list = c(FALSE))
print(src_table)
ad_data = ad_merge(ADNI_path, DATE_type = "Number",dict_src = src_table,timeline_file = "MRIMETA_15Mar2024")
ad_data$analysis_data
plot(ad_data,"CDGLOBAL","PHASE")
ad_data$analysis_data
print(src_table)
ad_data = ad_merge(ADNI_path, DATE_type = "Number",dict_src = src_table,timeline_file = "DXSUM_PDXCONV_21Mar2024")
ad_data$analysis_data
plot(ad_data,"DIAGNOSIS","PHASE")
ITEM
ITEM$ADAS_ExamDate
DXSUM_PDXCONV_21Mar2024$EXAMDATE
